# 합성함수의 미분 하나 다루겠다고 복잡하게 식쓴거

001 | 

002 | Definition) 함수 y = f(x)가 그리는 도형 위의 정점 P₀(x₀, f(x₀))부터 정점 P₁(x₁, f(x₁))까지 동점 P가 움직였을때, 

003 | P₀ + <Δx, Δy> = P₁을 만족하는 Δx, Δy를 각각 x와 y의 증분이라고 정의한다.

004 | 

005 | Definition) 함수 y = f(x)에서 차분 Δf(x) ≜ Δf(x₀) ≜ Δy [x₀ := x] 로 정의한다.

006 | 

007 | P₀, P₁, <Δx, Δy> 이중 두가지만 결정되더라도 Vector의 덧•뺄셈은 SIMD마냥 x-y축이라는 요소 종류중에서 같은 종류의 요소에만 연산되기에, 완벽히 해당 스칼라에서의 덧•뺄셈을 흉내내기에, 나머지 하나가 결정된다 (대수구조 중 Loop)

008 | 

009 | 함수 y = f(x)에 대해, 그 정의역 위에 x₁, x₂가 존재하여, y₁ = f(x₁), y₂ = f(x₂)를 만족한다면, 함수라는것은 반드시 x₁ = x₂ → y₁ = y₂를 만족한다.

010 | 

011 | 즉, 정의역 위의 x₁에 대해 card {y | y = f(x)} = 1이다. 함수값은 매개변수의 값에 의해 하나로 결정된다.

012 | 

013 | 따라서, x₀, x₁에 대해 각각 y₀, y₁는 하나씩 결정된다.

014 | 

015 | 즉, x₀, x₁, Δx중 어느 두가지만 결정되어도, P₀, P₁, <Δx, Δy>가 다 결정된다.

016 | 

017 | 그러므로, 

018 | 

019 | P₀ + <Δx, Δy> = P₁

020 | = <x₀, y₀> + <Δx, Δy> = <x₁, y₁>

021 | 

022 | 애서, 

023 | 

024 | <Δx, Δy> = P₁ - P₀

025 | = <x₁, y₁> - <x₀, y₀> = <x₁ - x₀, y₁ - y₀>

026 |  = <x₁ - x₀, f(x₁) - f(x₀)>

027 | 

028 | 이다.

029 | 

030 | 따라서, 평균변화율 Δy/Δx = (f(x₁) - f(x₀))/(x₁ - x₀)이 x₀, x₁, Δx중 어느 두가지가 결정되면 결정된다.

031 | 

032 | 사실, x₀ + Δx = x₁, Δx = x₁ - x₀을 만족하므로, x₀이 정해졌을때나 x₁이 정해졌을때, 각각 x₁과 x₀은 Δx와 일정한 차나 일정한 합을 가지는 관계이고,

033 | 

034 | 특히, x = x₀인 차분에서, x₀ + Δx = x₁로 x₁이 결정된다.

035 | 

036 | 사실은, 이 정의는 일부러 "P₀, P₁ ∈ graph f ∧ P₀ + <Δx, Δy> = P₁"라는 기하적으로 증분을 정의한것이므로, 일부러 x₁ 혹은 Δx를 건드려줄것을 기대하고 만든 증분의 정의로, x₁, y₁및 x₀, y₀의 함수관계와, Δx증분관계 하에 놓인 함수 graph상의 변수들의 관계 선언한것이지, 어떤 정상적인 함수나 변수를 선언한것이 아니다. 따라서, 앞으로 나올 x₁, y₁, x₀, y₀, Δx, Δy는 아주 기깔나게 자유변항마냥 조작되는 모습을 볼 수 있을것이다.

037 | 

038 | 앞으로 증분 Δx, Δy를 건드린다면, x-y 평면상의 graph f위의 동점의 이동에 따른 벡터 증가량으로 표시될것이다.

039 | 

040 | Definition 교육과정상 미분과 계수) $y = f(x)에 대해, (d/dx f(x)) ≜ dy/dx ≜ lim_{Δx → 0} Δy/Δx$ (Tip : 입출력 축은 달라질 수 있음)

041 | 

042 | 여기서 정의한 차분에 따라서,

043 | $lim_{Δx → 0} Δy/Δx = lim_{Δx → 0} (f(x + Δx) - f(x))/Δx$

044 | 

045 | 또한, 여기서 정의한 증분에 따라,

046 | $lim_{Δx → 0} Δy/Δx = lim_{t → x} (f(t) - f(x))/(t - x)$

047 | 

048 | 이런식으로 동작하게 해놨다.

049 | 이것 역시 x축과 y축이 아닌 다른 축의 원소다 미지수가 되면 기호를 dx, dy에서 다른걸로 바꾼다.

050 | 

051 | Theorem 합성함수의 미분법) (f◦g)' = g' × (f'◦g)

052 | Proof) 합성함수의 미분법을 증명해보자.

053 | 

054 | 미분할것을 목표로 하는 함수는 y = (f◦g)(x)이다.

055 | 

056 | 그래프 위에서 도형을 그리는 다음 연립방정식 y = f(u), u = g(x)을 살펴보자. 미지수 u가 생김에 따라서, 가상의 u축이 더해진 상태이다.

057 | 

058 | 이제 함수는 음함수꼴에서, 그래프 graph f를 술어로 간주하여, (graph f)(x, u, y)를 (graph f)(u, y) : (∀x (graph f)(x, u, y)) 로 표기하여 간주하고,

059 | 

060 | graph g를 술어로 간주하여, (graph g)(x, u, y)를 (graph g)(x, u) : (∀y (graph g)(x, u, y)) 로 표기하여 간주한다.

061 | 

062 | 그 이유는 (graph f)(u, y)및 (graph g)(x, u)및 (graph (f◦g))(x, y)에서, 미지수를 저 꼬라지로 만들었기에, output = function(input)꼴을 만들고, 각 축에대해 값을 표기하는, 즉, 음함수 graph f의 해(근), 즉, 음함수꼴을 만족시키는 값이

063 | {(input, output) | output = function(input)}꼴인데, 세가지 함수를 연립하면, 각각의 미지수에 대한 관계로 graph로 만든 술어관계가 변하므로,

064 | 음함수꼴을 만족하는 점이 사용되지 않는 변수의 축도 존재하여야 한다.

065 | 

066 | y₀ = f(u₀), u₀ = g(x₀)이라면, 

067 | 

068 | (x₀, u₀, y₀) ⊨ (y = f(u), u = g(x))여야 한다.

069 | 

070 | 사실, 음함수가 관계 역할을 함으로, 그 음함수 "(y = f(u), u = g(x))"에 대해, (y = f(u), u = g(x))(x₀, u₀, y₀)을 만족한다는건, (y = f(u), u = g(x)) ⊆ 𝕏 × 𝕌 × 𝕐 (단. (x, u, y) ∈ 𝕏 × 𝕌 × 𝕐)이기에,

071 | 

072 | (x₀, u₀, y₀)가 (x = x₀, u = u₀, y = y₀)로 동작함은 누구나 알것이다.

073 | 

074 | 사실 저 구조체같은게 튜플이던 아니던, 걍 내부 문장들을 전부 연언해주면, 논리적 귀결같이 작동하는건 똫같으므로, 굳이 태글걸 곳도 없다.

075 | 

076 | y = f(u), u = g(x) 이면이 y = f(g(x)) 이므로, 두 식 y = f(u), u = g(x) 을 연립한 좌표평면 위의 도형 y = f(g(x))은 y = f(g(x))가 그리는 그래프와 같다.

077 | 

078 | 이하에서, y = f(g(x))는 두 식 y = f(u), u = g(x) 을 연립한 좌표평면 위의 도형과 동일하게 보겠다.

079 | 

080 | 함수 y = f(g(x))의 미분은, $dy/dx = lim_{Δx → 0} Δx/Δy$ 이다

081 | 

082 | 그런데

083 | 

084 | 함수 u = g(x)에 대해, 그 미분이 $du/dx = lim_{Δx → 0} Δu/Δx$ 이고

085 | 함수 y = f(u)에 대해, 그 미분이 $dy/du = lin_{Δu → 0} Δy/Δu$ 이다. ⋯ ①

086 | 

087 | 평균변화율에서, Δx, Δy, Δu가 다 연동이 되게 선언하였으니,

088 | 

089 | Δy/Δu × Δu/Δx = Δy/Δx 이므로,

090 | 

091 | x-u 평면상의 함수 u = g(x)에서

092 | 

093 | Δx → 0일때 분모 → 0이므로 분자 → 0이여야 한다.

094 | 

095 | 즉, Δx → 0에서, Δu → 0이다.

096 | 

097 | 따라서, 함수 y = f(g(x))에서

098 | 

099 | 미분계수 $dy/dx = lim_{Δx → 0} Δy/Δx = lim_{Δx → 0} (Δy/Δu) (Δu/Δx)$ 는

100 | 1. Δx → 0일때, Δu → 0이고

101 | 2. $lim_{Δx → 0} Δu/Δx = du/dx$이며

102 | 3. $lim_{Δu → 0} Δy/Δu = dy/du$이기에,

103 | 

104 | 극한의 성질 $lim_{x → a} [f(x) g(x)] = [lim_{x → a} f(x)] [lim_{x → a} g(x)]$에 따라서,

105 | 

106 | $dy/dx = lim_{Δx → 0} (Δy/Δu) (Δu/Δx) = [lim_{Δx → 0} (Δy/Δu)] × [d/dx g]$ 이다.

107 | 

108 | 이제 남은 식을 풀이해야함은 당연히 그것이 목적이니 당연하다.

109 | 그러기 위해서 $lim_{Δx → 0} Δy/Δu$에서의 식의 꼴을 알아내기 위해 Δu의 값을 구해야 한다.

110 | 사실은 누구나 직관적으로 알았겠지만 0/0꼴이다.

111 | 왜냐하면 기존의 정보 Δx → 0에서 Δu → 0, 즉, $lim_{Δx → 0} Δu = 0$을 만족하므로, 0/0 꼴이 되는것은,

112 | 

113 | 1. $lim_{Δx → 0} Δy = 0$

114 | 2. $lim_{Δx → 0} Δu = 0$

115 | 에서, 이미 그 두 충분조건이 마련된 논리적 귀결이기 때문이다. (참고 : 0/0꼴은 $lim_{x → a} [분자/분모]$ 식에서, x → a일때, 분자 → 0이고, x → a일때 분모 → 0인 꼴이다.)

116 | 

117 | 다시 돌아와서 Δx → 0에서 Δu → 0이므로,

118 | 

119 | $dy/dx = [lim_{Δx → 0} (Δy/Δu)] × [d/dx g] = [lim_{Δu → 0} (Δy/Δu)] × [d/dx g]$ 이다.

120 | 

121 | 이제 남은 식을 풀이해야함은 당연히 그것이 목적이니 당연하다.

122 | 그러기 위해서 $lim_{Δu → 0} (Δy/Δu)$의 값을 구해야 한다.

123 | 당연히도, 우리가 아는 바에 의하면 직관적으로 ①을 구한것을 떠올릴 가능성이 높다. 저 식은 미분계수를 평균변화율로 나타낸 식이기에, 미분계수를 연상할 수 있기때문이다.

124 | 

125 | 다시 돌아와서

126 | 

127 | $dy/dx = [lim_{Δu → 0} (Δy/Δu)] × [d/dx g]$ 에서,

128 | 

129 | ①에 따라, $dy/du = lim_{Δu → 0} Δy/Δu$ 이므로,

130 | 

131 | $dy/dx = [lim_{Δu → 0} (Δy/Δu)] × [d/dx g] = [d/du f] × [d/dx g]$ 이다.

132 | 

133 | 도함수의 정의인 미분계수와 도함수가 같다는 점에 따라서,

134 | 

135 | 1. ý = f'(u) = dy/du이고

136 | 2. u = g(x)이므로,

137 | 3. ý = f'(g(x)) = dy/dy 이다.

138 | 

139 | 따라서, 

140 | 

141 | dy/dx = [d/du f] × [d/dx g] = ([d/dx f]◦g) × [d/dx g] 다.

142 | 즉, (d/dx) [f◦g] = [d/dx g] × ([d/dx f]◦g) 이다.

143 | 

144 | Q.E.D.